(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{128:function(e,i){},171:function(e,i,t){e.exports=t(190)},180:function(e,i){},190:function(e,i,t){"use strict";t.r(i),t.d(i,"makeContainer",(function(){return G}));var o=t(5),n=t(141),r=t(17),a=t(38),d=t(158),s=t(44),c=t(6),l=t(151),p=t(203),v=t(205),u=t(85),b=t(55),f=t(118),g=t(156),m="query GetProposalsList  {\nproposal  {\ntitle  \nstartLatitude  \nstartLongitude  \nendLatitude  \nendLongitude  \ndescription  \nkind  \n}\n\n}\n";function h(e){var i=f.a(a.d(e)),t=b.b(i,"proposal");return{proposal:void 0!==t?f.a(a.a(c.c(t))).map((function(e){var i,t=f.a(a.d(e)),o=b.b(t,"title");if(void 0!==o){var n=c.c(o),r=a.e(n);i=void 0!==r?r:u.a("graphql_ppx: Expected string, got "+JSON.stringify(n))}else i=u.a("graphql_ppx: Field title on type proposal is missing");var d,s=b.b(t,"startLatitude");if(void 0!==s){var l=c.c(s);d=void 0!==a.b(l)?void 0:c.b(l)}else d=void 0;var p,v=b.b(t,"startLongitude");if(void 0!==v){var g=c.c(v);p=void 0!==a.b(g)?void 0:c.b(g)}else p=void 0;var m,h=b.b(t,"endLatitude");if(void 0!==h){var x=c.c(h);m=void 0!==a.b(x)?void 0:c.b(x)}else m=void 0;var k,y=b.b(t,"endLongitude");if(void 0!==y){var L=c.c(y);k=void 0!==a.b(L)?void 0:c.b(L)}else k=void 0;var E,q=b.b(t,"description");if(void 0!==q){var w=c.c(q);if(void 0!==a.b(w))E=void 0;else{var J=a.e(w);E=void 0!==J?J:u.a("graphql_ppx: Expected string, got "+JSON.stringify(w))}}else E=void 0;var S,P=b.b(t,"kind");if(void 0!==P){var _=c.c(P),C=a.e(_);S=void 0!==C?C:u.a("graphql_ppx: Expected string, got "+JSON.stringify(_))}else S=u.a("graphql_ppx: Field kind on type proposal is missing");return{title:i,startLatitude:d,startLongitude:p,endLatitude:m,endLongitude:k,description:E,kind:S}})):u.a("graphql_ppx: Field proposal on type query_root is missing")}}var x=[h,m,function(e){return 0}];var k={longitude:1.091269,latitude:49.443268,zoom:13,pitch:0,bearing:0},y=[36,142,128,255],L=[0,128,255,200],E=[255,191,0,255];var q={label:"Urbanisme tactique post covid",visible:!0,description:"S\xe9lectionner un \xe9l\xe9ment de la cartographie pour faire apparaitre le d\xe9tail de la proposition"};var w=function(e){var i,t=g.a(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,x)[0],n=o.useReducer((function(e,i){var t=i[0];return{label:t.object.label,visible:!0,description:t.object.description}}),q),u=n[1],b=n[0];i="number"===typeof t||t.tag?[]:d.a(t[0].proposal,(function(e){var i=e.startLatitude,t=e.startLongitude,o=e.endLatitude,n=e.endLongitude;return void 0!==i&&void 0!==t&&void 0!==o&&void 0!==n?{label:e.title,description:s.c(e.description,""),sourcePosition:[s.c(a.c(c.c(t)),0),s.c(a.c(c.c(i)),0)],targetPosition:[s.c(a.c(c.c(n)),0),s.c(a.c(c.c(o)),0)],kind:e.kind}:{label:"",description:"",sourcePosition:[0,0],targetPosition:[0,0],kind:""}}));var f=[new v.a({id:"layer-id",data:i,getColor:function(e){return function(e){switch(e){case"ecole":return E;case"pieton":return y;case"velo":return L;default:return[0,0,0,0]}}(e.kind)},getWidth:7,onClick:function(e){return r.a(u,[e])},pickable:!0})];return o.createElement(p.a,{initialViewState:k,controller:!0,reuseMaps:!0,layers:f,children:null},o.createElement(l.a,{mapboxApiAccessToken:"pk.eyJ1IjoicGllcnJpY2tibCIsImEiOiJjazRhMjBkcXQwMmhsM2VwMXkyM3JyZW54In0.qv1Lq36PUGxriIIbLUtovw",mapStyle:"mapbox://styles/mapbox/dark-v10",viewState:k}),o.createElement("div",{style:{backgroundColor:"#aaa",color:"#fff",display:b.visible?"block":"none",fontFamily:"Source Sans Pro, sans-serif",height:"150px",left:"20px",padding:"5px",position:"absolute",top:"20px",width:"300px",borderRadius:"10px"}},o.createElement("h3",{style:{margin:"0"}},b.label),o.createElement("p",void 0,b.description)))},J=t(116);var S=function(e){return(J.b(void 0,0).path?1:0)?"Not found":o.createElement(w,{})},P=t(46),_=t(157),C=t(154),I=t(155).a(void 0,void 0,0),M={"x-hasura-admin-secret":"{xJA;O5k:(FGD'H-"},j=_.a("http://postcovidurbanism.eastus.azurecontainer.io/v1/graphql",void 0,void 0,c.b(M),void 0,void 0,0),F=C.a(j,I,void 0,void 0,void 0,void 0,0);var O=function(e){return o.createElement(P.a,{client:F,children:o.createElement(S,{})})};function G(e){var i=document.createElement("div");return document.body.appendChild(i),i}n.render(o.createElement(O,{}),G())}},[[171,1,2]]]);
//# sourceMappingURL=main.52afda78.chunk.js.map