{"version":3,"sources":["pages/Home.js","containers/App.js","config/Routing.js","graphql/GraphqlClient.js","containers/Root.js","index.js"],"names":["initialViewState","longitude","latitude","zoom","pitch","bearing","data","sourcePosition","targetPosition","lineColor","initialState","posX","posY","visible","make","Props","match","React","param","action","info","x","y","dispatch","state","layers","Layers","id","getColor","getWidth","onClick","Curry","pickable","React$1","controller","reuseMaps","children","ReactMapGl","mapboxApiAccessToken","process","mapStyle","viewState","style","display","left","String","position","top","ReasonReactRouter","undefined","path","Home$MaskManager","inMemoryCache","ApolloInMemoryCache","authHeaders","httpLink","ApolloLinks","Caml_option","instance","ReasonApollo","ReactHooks","client","GraphqlClient$MaskManager","App$MaskManager","makeContainer","container","document","createElement","body","appendChild","ReactDom","Root$MaskManager"],"mappings":"0RAQIA,EAAmB,CACrBC,UAAW,SACXC,SAAU,UACVC,KAAM,GACNC,MAAO,EACPC,QAAS,GAGPC,EAAO,CACT,CACEC,eAA2B,CACzB,UACA,YAEFC,eAA2B,CACzB,SACA,aAGJ,CACED,eAA2B,CACzB,SACA,WAEFC,eAA2B,CACzB,SACA,aAOFC,EAAuB,CACzB,IACA,EACA,GAGEC,EAAe,CACjBC,KAAM,EACNC,KAAM,EACNC,SAAS,GAuDX,IAEIC,EA9CJ,SAAcC,GACZ,IAAIC,EAAQC,cAAkB,SAAUC,EAAOC,GACvC,IAAIC,EAAOD,EAAO,GAClB,MAAO,CACCR,KAAMS,EAAKC,EACXT,KAAMQ,EAAKE,EACXT,SAAS,KAEfH,GACNa,EAAWP,EAAM,GACjBQ,EAAQR,EAAM,GAWdS,EAAS,CAAC,IAAIC,IAAiB,CAC3BC,GA5CQ,WA6CRrB,KAAMA,EACNsB,SAAUnB,EACVoB,SAAU,EACVC,QAAU,SAAUV,GAChB,OAAOW,IAASR,EAAqB,CAACH,KAE1CY,UAAU,KAElB,OAAOf,gBAAoBgB,IAAiB,CAChCjC,iBAAkBA,EAClBkC,YAAY,EACZC,WAAW,EACXV,OAAQA,EACRW,SAAU,MACTnB,gBAAoBoB,IAAoB,CACrCC,qBAAsBC,gGACtBC,SAAU,mCACVC,UAAWzC,IA5BlBiB,gBAAoB,MAAO,CACtByB,MAAO,CACLC,QAASnB,EAAMX,QAAU,QAAU,OACnC+B,KAAMC,OAAOrB,EAAMb,MAAQ,KAC3BmC,SAAU,WACVC,IAAKF,OAAOrB,EAAMZ,MAAQ,OAE3B,0B,SChEjB,IAAIE,EATJ,SAAaC,GAEX,OADgDiC,SAAyBC,EAAmB,GAAGC,KCMtF,EAEA,GDNA,YAEAjC,gBAAoBkC,EAAuB,K,mCELlDC,E,OAAgBC,OAAwCJ,OAAWA,EAAmB,GAEtFK,EAAc,CAElBA,wBAAuC,yBAEnCC,EAAWC,IAA2B,oEAAgEP,OAAWA,EAAWQ,IAAiBH,QAAcL,OAAWA,EAAmB,GAEzLS,EAAWC,IAAgCJ,EAAUH,OAAeH,OAAWA,OAAWA,OAAWA,EAAmB,GCD5H,IAAInC,EAPJ,SAAcC,GACZ,OAAOE,gBAAoB2C,IAA2B,CAC1CC,OAAQC,EACR1B,SAAUnB,gBAAoB8C,EAAsB,OCJlE,SAASC,EAAc9C,GACrB,IAAI+C,EAAYC,SAASC,cAAc,OAEvC,OADAD,SAASE,KAAKC,YAAYJ,GACnBA,EAGTK,SAAgBrD,gBAAoBsD,EAAuB,IAAMP,O","file":"static/js/main.4cada8e9.chunk.js","sourcesContent":["\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as ReactMapGl from \"react-map-gl\";\nimport * as React$1 from \"@deck.gl/react\";\nimport * as Layers from \"@deck.gl/layers\";\n\nvar initialViewState = {\n  longitude: 1.091269,\n  latitude: 49.443268,\n  zoom: 13,\n  pitch: 0,\n  bearing: 0\n};\n\nvar data = [\n  {\n    sourcePosition: /* tuple */[\n      1.0887587,\n      49.4391237\n    ],\n    targetPosition: /* tuple */[\n      1.092123,\n      49.4446816\n    ]\n  },\n  {\n    sourcePosition: /* tuple */[\n      1.097269,\n      49.445366\n    ],\n    targetPosition: /* tuple */[\n      1.096135,\n      49.443916\n    ]\n  }\n];\n\nvar layerLineId = \"layer-id\";\n\nvar lineColor = /* tuple */[\n  255,\n  0,\n  0\n];\n\nvar initialState = {\n  posX: 0,\n  posY: 0,\n  visible: false\n};\n\nfunction visibleToDisplay(visible) {\n  if (visible) {\n    return \"block\";\n  } else {\n    return \"none\";\n  }\n}\n\nfunction Home(Props) {\n  var match = React.useReducer((function (param, action) {\n          var info = action[0];\n          return {\n                  posX: info.x,\n                  posY: info.y,\n                  visible: true\n                };\n        }), initialState);\n  var dispatch = match[1];\n  var state = match[0];\n  var renderTooltip = function (param) {\n    return React.createElement(\"div\", {\n                style: {\n                  display: state.visible ? \"block\" : \"none\",\n                  left: String(state.posX) + \"px\",\n                  position: \"absolute\",\n                  top: String(state.posY) + \"px\"\n                }\n              }, \"Pi\\xc3\\xa9tonisation\");\n  };\n  var layers = [new Layers.LineLayer({\n          id: layerLineId,\n          data: data,\n          getColor: lineColor,\n          getWidth: 3,\n          onClick: (function (info) {\n              return Curry._1(dispatch, /* Click */[info]);\n            }),\n          pickable: true\n        })];\n  return React.createElement(React$1.default, {\n              initialViewState: initialViewState,\n              controller: true,\n              reuseMaps: true,\n              layers: layers,\n              children: null\n            }, React.createElement(ReactMapGl.default, {\n                  mapboxApiAccessToken: process.env.REACT_APP_MAPBOX_TOKEN,\n                  mapStyle: \"mapbox://styles/mapbox/light-v10\",\n                  viewState: initialViewState\n                }), renderTooltip(/* () */0));\n}\n\nvar lineWidth = 3;\n\nvar make = Home;\n\nexport {\n  initialViewState ,\n  data ,\n  layerLineId ,\n  lineColor ,\n  lineWidth ,\n  initialState ,\n  visibleToDisplay ,\n  make ,\n  \n}\n/* react Not a pure module */\n","\n\nimport * as React from \"react\";\nimport * as Home$MaskManager from \"../pages/Home.js\";\nimport * as ReasonReactRouter from \"reason-react/src/ReasonReactRouter.js\";\nimport * as Routing$MaskManager from \"../config/Routing.js\";\n\nfunction App(Props) {\n  var route = Routing$MaskManager.getRouteFromUrl(ReasonReactRouter.useUrl(undefined, /* () */0).path);\n  if (route) {\n    return \"Not found\";\n  } else {\n    return React.createElement(Home$MaskManager.make, { });\n  }\n}\n\nvar make = App;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","\n\nimport * as ReasonReactRouter from \"reason-react/src/ReasonReactRouter.js\";\n\nfunction getRoutePath(route) {\n  if (route) {\n    return \"/404\";\n  } else {\n    return \"/\";\n  }\n}\n\nfunction getRouteFromUrl(url) {\n  if (url) {\n    return /* NotFound */1;\n  } else {\n    return /* Home */0;\n  }\n}\n\nfunction push(route) {\n  return ReasonReactRouter.push(route ? \"/404\" : \"/\");\n}\n\nexport {\n  getRoutePath ,\n  getRouteFromUrl ,\n  push ,\n  \n}\n/* ReasonReactRouter Not a pure module */\n","\n\nimport * as ApolloLinks from \"reason-apollo/src/ApolloLinks.bs.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as ReasonApollo from \"reason-apollo/src/ReasonApollo.bs.js\";\nimport * as ApolloInMemoryCache from \"reason-apollo/src/ApolloInMemoryCache.bs.js\";\n\nvar inMemoryCache = ApolloInMemoryCache.createInMemoryCache(undefined, undefined, /* () */0);\n\nvar authHeaders = { };\n\nauthHeaders[\"x-hasura-admin-secret\"] = \"JeSuisMaskManager1234\";\n\nvar httpLink = ApolloLinks.createHttpLink(\"http://postcovidurbanism.eastus.azurecontainer.io/v1/graphql\", undefined, undefined, Caml_option.some(authHeaders), undefined, undefined, /* () */0);\n\nvar instance = ReasonApollo.createApolloClient(httpLink, inMemoryCache, undefined, undefined, undefined, undefined, /* () */0);\n\nexport {\n  inMemoryCache ,\n  authHeaders ,\n  httpLink ,\n  instance ,\n  \n}\n/* inMemoryCache Not a pure module */\n","\n\nimport * as React from \"react\";\nimport * as App$MaskManager from \"./App.js\";\nimport * as ReactHooks from \"@apollo/react-hooks\";\nimport * as GraphqlClient$MaskManager from \"../graphql/GraphqlClient.js\";\n\nfunction Root(Props) {\n  return React.createElement(ReactHooks.ApolloProvider, {\n              client: GraphqlClient$MaskManager.instance,\n              children: React.createElement(App$MaskManager.make, { })\n            });\n}\n\nvar make = Root;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","\n\nimport * as React from \"react\";\nimport * as ReactDom from \"react-dom\";\nimport * as Root$MaskManager from \"./containers/Root.js\";\n\nfunction makeContainer(param) {\n  var container = document.createElement(\"div\");\n  document.body.appendChild(container);\n  return container;\n}\n\nReactDom.render(React.createElement(Root$MaskManager.make, { }), makeContainer(/* () */0));\n\nexport {\n  makeContainer ,\n  \n}\n/*  Not a pure module */\n"],"sourceRoot":""}