(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{143:function(e,t){},186:function(e,t,i){e.exports=i(205)},195:function(e,t){},205:function(e,t,i){"use strict";i.r(t),i.d(t,"makeContainer",(function(){return ee}));var a=i(7),r=i(156),n=i(56),o=i(123),d=i(4),u=i(167),l=i(218),p=i(219),s=i(55),v=i(41),c=i(30),g=i(109),f=i(172),m=i(38),h=i(8),b=i(1),y=i(49),_=i(67);function x(e){return[y.e(e[0]),y.e(e[1]),y.e(e[2])]}function L(e){var t=c.a(e);if("number"===typeof t||3!==t.tag)return y.c(void 0,"Not a tuple",e);var i=t[0];if(3!==i.length)return y.c(void 0,"Incorrect cardinality",e);var a=i[0],r=i[1],n=i[2],o=y.d(a),d=y.d(r),u=y.d(n);if(o.tag){var l=o[0];return b.a(1,[{path:"[0]"+l.path,message:l.message,value:l.value}])}if(d.tag){var p=d[0];return b.a(1,[{path:"[1]"+p.path,message:p.message,value:p.value}])}if(u.tag){var s=u[0];return b.a(1,[{path:"[2]"+s.path,message:s.message,value:s.value}])}return b.a(0,[[o[0],d[0],u[0]]])}var k={latitude_encode:y.e,latitude_decode:y.d,longitude_encode:y.e,longitude_decode:y.d,altitude_encode:y.e,altitude_decode:y.d,t_encode:x,t_decode:L,latitude_from_float:function(e){return e},longitude_from_float:function(e){return e},altitude_from_float:function(e){return e},isValid:function(e,t,i){var a=i[1],r=i[0],n=_.b(e.max,r),o=_.c(e.min,r),d=_.b(t.max,a),u=_.c(t.min,a);return!!(n&&o&&d&&u)}};function q(e){var t=c.a(e);if("number"===typeof t||2!==t.tag)return y.c(void 0,"Not an object",e);var i=t[0],a=y.f(m.c(v.d(i,"type"),null));if(a.tag){var r=a[0];return b.a(1,[{path:".type"+r.path,message:r.message,value:r.value}])}var n=y.a(L,m.c(v.d(i,"coordinates"),null));if(n.tag){var o=n[0];return b.a(1,[{path:".coordinates"+o.path,message:o.message,value:o.value}])}return b.a(0,[{type:a[0],coordinates:n[0]}])}function E(e){return e.tag?void console.log(e[0]):h.b(e[0])}function N(e){return m.a(m.d(e,k.latitude_decode),E)}function S(e){return m.a(m.d(e,k.longitude_decode),E)}function J(e){return m.a(m.d(e,q),E)}var w="query GetProposalsList  {\nproposal  {\ntitle  \nstartLatitude  \nstartLongitude  \nendLatitude  \nendLongitude  \ndescription  \nkind  \npath  \nauthor  {\nname  \nlink  \n}\n\n}\n\n}\n";function F(e){var t=g.a(c.f(e)),i=v.d(t,"proposal");return{proposal:void 0!==i?g.a(c.b(h.c(i))).map((function(e){var t=c.f(e);if(void 0!==t){var i,a=h.c(t),r=v.d(a,"title");if(void 0!==r){var n=h.c(r),o=c.g(n);i=void 0!==o?o:s.a("graphql_ppx: Expected string, got "+JSON.stringify(n))}else i=s.a("graphql_ppx: Field title on type proposal is missing");var d,u=v.d(a,"startLatitude");if(void 0!==u){var l=h.c(u);d=N(void 0!==c.d(l)?void 0:h.b(l))}else d=s.a("graphql_ppx: Field startLatitude on type proposal is missing");var p,g=v.d(a,"startLongitude");if(void 0!==g){var f=h.c(g);p=S(void 0!==c.d(f)?void 0:h.b(f))}else p=s.a("graphql_ppx: Field startLongitude on type proposal is missing");var m,b=v.d(a,"endLatitude");if(void 0!==b){var y=h.c(b);m=N(void 0!==c.d(y)?void 0:h.b(y))}else m=s.a("graphql_ppx: Field endLatitude on type proposal is missing");var _,x=v.d(a,"endLongitude");if(void 0!==x){var L=h.c(x);_=S(void 0!==c.d(L)?void 0:h.b(L))}else _=s.a("graphql_ppx: Field endLongitude on type proposal is missing");var k,q=v.d(a,"description");if(void 0!==q){var E=h.c(q);if(void 0!==c.d(E))k=void 0;else{var w=c.g(E);k=void 0!==w?w:s.a("graphql_ppx: Expected string, got "+JSON.stringify(E))}}else k=void 0;var F,j=v.d(a,"kind");if(void 0!==j){var M=h.c(j),O=c.g(M);F=void 0!==O?O:s.a("graphql_ppx: Expected string, got "+JSON.stringify(M))}else F=s.a("graphql_ppx: Field kind on type proposal is missing");var I,C=v.d(a,"path");if(void 0!==C){var V=h.c(C);I=J(void 0!==c.d(V)?void 0:h.b(V))}else I=s.a("graphql_ppx: Field path on type proposal is missing");var G,z=v.d(a,"author");if(void 0!==z){var A=h.c(z);if(void 0!==c.d(A))G=void 0;else{var P,U=c.f(A);if(void 0!==U){var R,W=h.c(U),X=v.d(W,"name");if(void 0!==X){var B=h.c(X),D=c.g(B);R=void 0!==D?D:s.a("graphql_ppx: Expected string, got "+JSON.stringify(B))}else R=s.a("graphql_ppx: Field name on type author is missing");var H,Q=v.d(W,"link");if(void 0!==Q){var T=h.c(Q);if(void 0!==c.d(T))H=void 0;else{var Y=c.g(T);H=void 0!==Y?Y:s.a("graphql_ppx: Expected string, got "+JSON.stringify(T))}}else H=void 0;P={name:R,link:H}}else P=s.a("graphql_ppx: Expected object of type author, got "+JSON.stringify(A));G=P}}else G=void 0;return{title:i,startLatitude:d,startLongitude:p,endLatitude:m,endLongitude:_,description:k,kind:F,path:I,author:G}}return s.a("graphql_ppx: Expected object of type proposal, got "+JSON.stringify(e))})):s.a("graphql_ppx: Field proposal on type query_root is missing")}}var j=[F,w,function(e){return 0}];var M=i(34);var O=d.a(M.w,[M.p(M.u(0)),0]);var I={tooltipStyle:function(e){return d.a(M.w,[M.g(e?M.d:M.r),[M.t(M.b),[M.x(M.u(20)),[M.n(M.u(20)),[M.y(M.u(300)),[M.s(M.u(5)),[M.e(M.u(5)),[M.c(M.v(170,170,170)),[M.f(M.v(255,255,255)),0]]]]]]]]])},noMargin:O,title4:function(e){return d.a(M.q,[O,[d.a(M.w,[M.g(e?M.d:M.r),[M.k(M.m),[M.l(M.o),0]]]),0]])}};d.b(M.a,"body",[M.i([1066567601,"Noto Sans"]),[M.j(M.h(.8)),0]]);var C=function(e){var t=e.isVisible,i=e.label,r=e.description,n=e.authorName,o=e.authorLink,d=""!==n;return a.createElement("div",{className:I.tooltipStyle(t)},a.createElement("h3",{className:I.noMargin},i),a.createElement("h4",{className:I.title4(d)},"Par: ",a.createElement("a",{href:o,target:"_blank"},n)),a.createElement("p",void 0,r))},V=i(53);function G(e){var t=e[0];if(void 0!==t){var i=e[1];return void 0!==i?[h.c(t),h.c(i),k.altitude_from_float(0)]:void 0}}function z(e){var t,i,a,r,n,o=e.path;if(void 0!==o)t=o;else{var d=G([e.startLongitude,e.startLatitude]),u=G([e.endLongitude,e.endLatitude]);t={type:"LineString",coordinates:void 0!==d&&void 0!==u?[d,u]:[]}}return{type:"Feature",geometry:t,properties:(i=e.kind,a=e.description,r=e.author,n=e.title,{label:n,description:m.c(a,""),kind:i,authorName:m.e(r,"",(function(e){return e.name})),authorLink:m.e(r,"",(function(e){return m.c(e.link,"")}))})}}function A(e){return{type:"FeatureCollection",version:"draft",features:V.b(e,z)}}var P={longitude:1.091269,latitude:49.443268,zoom:13,pitch:0,bearing:0},U=[36,142,128,255],R=[0,128,255,200],W=[255,191,0,255];var X={label:"Urbanisme tactique post covid",visible:!0,description:"S\xe9lectionner un \xe9l\xe9ment de la cartographie pour faire apparaitre le d\xe9tail de la proposition",authorName:"",authorLink:""};var B=function(e){var t,i=f.a(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,j)[0],r=a.useReducer((function(e,t){var i=t[0];return{label:i.object.properties.label,visible:!0,description:i.object.properties.description,authorName:i.object.properties.authorName,authorLink:i.object.properties.authorLink}}),X),n=r[1],o=r[0];t="number"===typeof i||i.tag?A([]):A(i[0].proposal);var s=[new p.a({id:"layer-id",data:t,pickable:!0,getLineColor:function(e){return function(e){switch(e){case"ecole":return W;case"pieton":return U;case"velo":return R;default:return[0,0,0,0]}}(e.properties.kind)},getLineWidth:12,onClick:function(e){return d.a(n,[e])}})];return a.createElement(l.a,{initialViewState:P,controller:!0,reuseMaps:!0,layers:s,children:null},a.createElement(u.a,{mapboxApiAccessToken:"pk.eyJ1IjoicGllcnJpY2tibCIsImEiOiJjazRhMjBkcXQwMmhsM2VwMXkyM3JyZW54In0.qv1Lq36PUGxriIIbLUtovw",mapStyle:"mapbox://styles/mapbox/dark-v10",viewState:P}),a.createElement(C,{isVisible:o.visible,label:o.label,description:o.description,authorName:o.authorName,authorLink:o.authorLink}))};var D=function(e){return(o.b(void 0,0).path?1:0)?"Not found":a.createElement("div",void 0,a.createElement("header",void 0,"My future menu"),a.createElement(B,{}))},H=i(173),Q=i(170),T=i(171).a(void 0,void 0,0),Y={"x-hasura-admin-secret":"{xJA;O5k:(FGD'H-"},Z=H.a("http://postcovidurbanism.eastus.azurecontainer.io/v1/graphql",void 0,void 0,h.b(Y),void 0,void 0,0),K=Q.a(Z,T,void 0,void 0,void 0,void 0,0);var $=function(e){return a.createElement(n.a,{client:K,children:a.createElement(D,{})})};function ee(e){var t=document.createElement("div");return document.body.appendChild(t),t}r.render(a.createElement($,{}),ee())}},[[186,1,2]]]);
//# sourceMappingURL=main.c16491d7.chunk.js.map