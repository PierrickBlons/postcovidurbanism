(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{128:function(e,i){},171:function(e,i,t){e.exports=t(190)},180:function(e,i){},190:function(e,i,t){"use strict";t.r(i),t.d(i,"makeContainer",(function(){return F}));var o=t(5),a=t(141),n=t(17),r=t(38),d=t(158),c=t(44),s=t(6),l=t(151),v=t(203),p=t(205),u=t(103),b=t(58),f=t(118),g=t(156),m="query GetProposalsList  {\nproposal  {\ntitle  \nstartLatitude  \nstartLongitude  \nendLatitude  \nendLongitude  \ndescription  \n}\n\n}\n";function h(e){var i=f.a(r.d(e)),t=b.b(i,"proposal");return{proposal:void 0!==t?f.a(r.a(s.c(t))).map((function(e){var i,t=f.a(r.d(e)),o=b.b(t,"title");if(void 0!==o){var a=s.c(o),n=r.e(a);i=void 0!==n?n:u.a("graphql_ppx: Expected string, got "+JSON.stringify(a))}else i=u.a("graphql_ppx: Field title on type proposal is missing");var d,c=b.b(t,"startLatitude");if(void 0!==c){var l=s.c(c);d=void 0!==r.b(l)?void 0:s.b(l)}else d=void 0;var v,p=b.b(t,"startLongitude");if(void 0!==p){var g=s.c(p);v=void 0!==r.b(g)?void 0:s.b(g)}else v=void 0;var m,h=b.b(t,"endLatitude");if(void 0!==h){var x=s.c(h);m=void 0!==r.b(x)?void 0:s.b(x)}else m=void 0;var y,L=b.b(t,"endLongitude");if(void 0!==L){var k=s.c(L);y=void 0!==r.b(k)?void 0:s.b(k)}else y=void 0;var E,q=b.b(t,"description");if(void 0!==q){var w=s.c(q);if(void 0!==r.b(w))E=void 0;else{var J=r.e(w);E=void 0!==J?J:u.a("graphql_ppx: Expected string, got "+JSON.stringify(w))}}else E=void 0;return{title:i,startLatitude:d,startLongitude:v,endLatitude:m,endLongitude:y,description:E}})):u.a("graphql_ppx: Field proposal on type query_root is missing")}}var x=[h,m,function(e){return 0}];var y={longitude:1.091269,latitude:49.443268,zoom:13,pitch:0,bearing:0},L=[36,142,128,255],k={label:"Urbanisme tactique post covid",visible:!0,description:"S\xe9lectionner un \xe9l\xe9ment de la cartographie pour faire apparaitre le d\xe9tail de la proposition"};var E=function(e){var i,t=g.a(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,x)[0],a=o.useReducer((function(e,i){var t=i[0];return{label:t.object.label,visible:!0,description:t.object.description}}),k),u=a[1],b=a[0];i="number"===typeof t||t.tag?[]:d.a(t[0].proposal,(function(e){var i=e.startLatitude,t=e.startLongitude,o=e.endLatitude,a=e.endLongitude;return void 0!==i&&void 0!==t&&void 0!==o&&void 0!==a?{label:e.title,description:c.c(e.description,""),sourcePosition:[c.c(r.c(s.c(t)),0),c.c(r.c(s.c(i)),0)],targetPosition:[c.c(r.c(s.c(a)),0),c.c(r.c(s.c(o)),0)]}:{label:"",description:"",sourcePosition:[0,0],targetPosition:[0,0]}}));var f=[new p.a({id:"layer-id",data:i,getColor:L,getWidth:7,onClick:function(e){return n.a(u,[e])},pickable:!0})];return o.createElement(v.a,{initialViewState:y,controller:!0,reuseMaps:!0,layers:f,children:null},o.createElement(l.a,{mapboxApiAccessToken:"pk.eyJ1IjoicGllcnJpY2tibCIsImEiOiJjazRhMjBkcXQwMmhsM2VwMXkyM3JyZW54In0.qv1Lq36PUGxriIIbLUtovw",mapStyle:"mapbox://styles/mapbox/dark-v10",viewState:y}),o.createElement("div",{style:{backgroundColor:"#aaa",color:"#fff",display:b.visible?"block":"none",fontFamily:"Source Sans Pro, sans-serif",height:"150px",left:"20px",padding:"5px",position:"absolute",top:"20px",width:"300px",borderRadius:"10px"}},o.createElement("h3",{style:{margin:"0"}},b.label),o.createElement("p",void 0,b.description)))},q=t(116);var w=function(e){return(q.b(void 0,0).path?1:0)?"Not found":o.createElement(E,{})},J=t(46),S=t(157),P=t(154),C=t(155).a(void 0,void 0,0),I={"x-hasura-admin-secret":"{xJA;O5k:(FGD'H-"},M=S.a("http://postcovidurbanism.eastus.azurecontainer.io/v1/graphql",void 0,void 0,s.b(I),void 0,void 0,0),j=P.a(M,C,void 0,void 0,void 0,void 0,0);var _=function(e){return o.createElement(J.a,{client:j,children:o.createElement(w,{})})};function F(e){var i=document.createElement("div");return document.body.appendChild(i),i}a.render(o.createElement(_,{}),F())}},[[171,1,2]]]);
//# sourceMappingURL=main.7228ae7b.chunk.js.map